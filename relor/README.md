核心原理解析：相对定向（立体三维重建的基石）

1. 目标是什么？
   我们现在有两张相互重叠的照片（左片和右片），以及上面若干个同名像点（比如左照片的像素 (xl, yl) 和右照片的对应像素 (xr, yr)）。
   我们的目标是：把这两张照片在虚拟空间中“摆回”它们被拍摄时的相对位置，从而建立一个完美的 3D 立体模型（这个模型虽然大小未知、悬在半空，但内部比例完全正确）。
2. 惊艳的算法设计：微型光束法平差 (Bundle Adjustment)
   一般的教科书讲相对定向，都是用共面条件方程（只求右相机的 5 个参数）。
   但 Wolf 教授提供的这段代码，极其硬核！它用的是严密的共线条件方程（Collinearity），不仅求出相机的相对位置，还同时解算出了所有重叠点在空间中的三维坐标
   (
   X
   ,
   Y
   ,
   Z
   )
   (X,Y,Z)
   ！
   这就是现代所有三维重建软件（大疆智图、CC）的底层逻辑——光束法平差的微缩版！
3. 数学设定（锚定参照系）：
   因为这只是“相对”定向（还没有真实 GPS 坐标），我们需要人为定一个原点：
   左相机（基准）：强制锁死不动！坐标设为
   (
   0
   ,
   0
   ,
   f
   )
   (0,0,f)
   ，不低头、不侧倾（
   ω
   =
   ϕ
   =
   κ
   =
   0
   ω=ϕ=κ=0
   ）。
   右相机（待求）：它的 X 坐标（称为摄影基线
   b
   b
   ）用左右像点的视差（
   x
   l
   −
   x
   r
   x
   l
   ​
   −x
   r
   ​

）平均值临时固定。我们需要解算它的 5 个姿态/位置变量：
ω
2
,
ϕ
2
,
κ
2
,
Y
L
2
,
Z
L
2
ω
2
​
,ϕ
2
​
,κ
2
​
,Y
L2
​
,Z
L2
​

。
空间点（待求）：每个点有
X
i
,
Y
i
,
Z
i
X
i
​
,Y
i
​
,Z
i
​

3 个未知数。
所以，如果有
n
n
个点，我们就有一个拥有
5

- 3
  n
  5+3n
  个未知数的超级大矩阵！
